import{s as R,d as _,i as E,b as m,l as k,m as x,g as I,c as b,e as C,j as S,h as y,k as z,o as B,f as V,p as L,t as D,n as M,a as P,q as F}from"../chunks/DEkK7G5O.js";import{S as G,i as J,t as H,a as q,c as A,g as N,d as K,m as O,b as Q,e as U}from"../chunks/DCJ371I_.js";import{e as $}from"../chunks/D6YF6ztN.js";import{g as W}from"../chunks/Cbn2MTp2.js";import{p as X,s as Y}from"../chunks/CvtYKuB7.js";import{M as Z}from"../chunks/Bp2pOjc6.js";function w(h,e,s){const t=h.slice();return t[5]=e[s],t[7]=s,t}function ee(h){let e,s,t,l=(h[3].role||"Engineer")+"",a,u,n,o,p='<a href="/search" class="refine-link svelte-162prpu">Refine search</a> <a href="/shortlist" class="shortlist-link svelte-162prpu">View shortlist →</a>',v=h[3].stacks.length>0&&te(h);return{c(){e=y("div"),s=y("div"),t=y("span"),a=D(l),u=S(),v&&v.c(),n=S(),o=y("div"),o.innerHTML=p,this.h()},l(i){e=b(i,"DIV",{class:!0});var r=C(e);s=b(r,"DIV",{class:!0});var g=C(s);t=b(g,"SPAN",{class:!0});var c=C(t);a=V(c,l),c.forEach(_),u=I(g),v&&v.l(g),g.forEach(_),n=I(r),o=b(r,"DIV",{class:!0,"data-svelte-h":!0}),L(o)!=="svelte-1n5ht1d"&&(o.innerHTML=p),r.forEach(_),this.h()},h(){k(t,"class","role svelte-162prpu"),k(s,"class","query-summary svelte-162prpu"),k(o,"class","header-actions svelte-162prpu"),k(e,"class","search-header svelte-162prpu")},m(i,r){E(i,e,r),m(e,s),m(s,t),m(t,a),m(s,u),v&&v.m(s,null),m(e,n),m(e,o)},p(i,r){i[3].stacks.length>0&&v.p(i,r)},d(i){i&&_(e),v&&v.d()}}}function te(h){let e,s="·",t,l,a=h[3].stacks.slice(0,3).join(", ")+"",u;return{c(){e=y("span"),e.textContent=s,t=S(),l=y("span"),u=D(a),this.h()},l(n){e=b(n,"SPAN",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-3qa9vh"&&(e.textContent=s),t=I(n),l=b(n,"SPAN",{class:!0});var o=C(l);u=V(o,a),o.forEach(_),this.h()},h(){k(e,"class","separator svelte-162prpu"),k(l,"class","stacks svelte-162prpu")},m(n,o){E(n,e,o),E(n,t,o),E(n,l,o),m(l,u)},p:M,d(n){n&&(_(e),_(t),_(l))}}}function se(h){let e,s=h[0].length+"",t,l,a=h[0].length!==1?"s":"",u,n,o,p,v,i=$(h[0]),r=[];for(let c=0;c<i.length;c+=1)r[c]=j(w(h,i,c));const g=c=>H(r[c],1,1,()=>{r[c]=null});return{c(){e=y("p"),t=D(s),l=D(" developer"),u=D(a),n=D(" matched"),o=S(),p=y("div");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=b(c,"P",{class:!0});var d=C(e);t=V(d,s),l=V(d," developer"),u=V(d,a),n=V(d," matched"),d.forEach(_),o=I(c),p=b(c,"DIV",{class:!0});var f=C(p);for(let T=0;T<r.length;T+=1)r[T].l(f);f.forEach(_),this.h()},h(){k(e,"class","result-count svelte-162prpu"),k(p,"class","results svelte-162prpu")},m(c,d){E(c,e,d),m(e,t),m(e,l),m(e,u),m(e,n),E(c,o,d),E(c,p,d);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(p,null);v=!0},p(c,d){if((!v||d&1)&&s!==(s=c[0].length+"")&&P(t,s),(!v||d&1)&&a!==(a=c[0].length!==1?"s":"")&&P(u,a),d&1){i=$(c[0]);let f;for(f=0;f<i.length;f+=1){const T=w(c,i,f);r[f]?(r[f].p(T,d),q(r[f],1)):(r[f]=j(T),r[f].c(),q(r[f],1),r[f].m(p,null))}for(N(),f=i.length;f<r.length;f+=1)g(f);A()}},i(c){if(!v){for(let d=0;d<i.length;d+=1)q(r[d]);v=!0}},o(c){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)H(r[d]);v=!1},d(c){c&&(_(e),_(o),_(p)),F(r,c)}}}function le(h){let e,s='<p>No matches found. Try broadening your description or removing stack filters.</p> <a href="/search" class="btn-primary svelte-162prpu">Refine search</a>';return{c(){e=y("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-469zkg"&&(e.innerHTML=s),this.h()},h(){k(e,"class","empty-state svelte-162prpu")},m(t,l){E(t,e,l)},p:M,i:M,o:M,d(t){t&&_(e)}}}function re(h){let e,s,t,l,a,u="Try again";return{c(){e=y("div"),s=y("p"),t=D(h[2]),l=S(),a=y("a"),a.textContent=u,this.h()},l(n){e=b(n,"DIV",{class:!0});var o=C(e);s=b(o,"P",{class:!0});var p=C(s);t=V(p,h[2]),p.forEach(_),l=I(o),a=b(o,"A",{href:!0,class:!0,"data-svelte-h":!0}),L(a)!=="svelte-1c7m3cy"&&(a.textContent=u),o.forEach(_),this.h()},h(){k(s,"class","error-msg svelte-162prpu"),k(a,"href","/search"),k(a,"class","btn-primary svelte-162prpu"),k(e,"class","error-state svelte-162prpu")},m(n,o){E(n,e,o),m(e,s),m(s,t),m(e,l),m(e,a)},p(n,o){o&4&&P(t,n[2])},i:M,o:M,d(n){n&&_(e)}}}function ae(h){let e,s='<div class="spinner svelte-162prpu"></div> <p class="loading-text svelte-162prpu"><em>Expanding your query across technical domains…</em></p>';return{c(){e=y("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1b3gojg"&&(e.innerHTML=s),this.h()},h(){k(e,"class","loading svelte-162prpu")},m(t,l){E(t,e,l)},p:M,i:M,o:M,d(t){t&&_(e)}}}function j(h){let e,s;return e=new Z({props:{match:h[5],rank:h[7]+1}}),{c(){U(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p(t,l){const a={};l&1&&(a.match=t[5]),e.$set(a)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function ne(h){let e,s,t,l,a,u,n=h[3]&&ee(h);const o=[ae,re,le,se],p=[];function v(i,r){return i[1]?0:i[2]?1:i[0].length===0?2:3}return l=v(h),a=p[l]=o[l](h),{c(){e=S(),s=y("div"),n&&n.c(),t=S(),a.c(),this.h()},l(i){x("svelte-hq0jhf",document.head).forEach(_),e=I(i),s=b(i,"DIV",{class:!0});var g=C(s);n&&n.l(g),t=I(g),a.l(g),g.forEach(_),this.h()},h(){document.title="Matches — whodoesthe.work",k(s,"class","page svelte-162prpu")},m(i,r){E(i,e,r),E(i,s,r),n&&n.m(s,null),m(s,t),p[l].m(s,null),u=!0},p(i,[r]){i[3]&&n.p(i,r);let g=l;l=v(i),l===g?p[l].p(i,r):(N(),H(p[g],1,1,()=>{p[g]=null}),A(),a=p[l],a?a.p(i,r):(a=p[l]=o[l](i),a.c()),q(a,1),a.m(s,null))},i(i){u||(q(a),u=!0)},o(i){H(a),u=!1},d(i){i&&(_(e),_(s)),n&&n.d(),p[l].d()}}}function ie(h,e,s){let t;z(h,X,o=>s(4,t=o));let l=[],a=!0,u="",n=t;return B(async()=>{if(!n){W("/search");return}try{s(0,l=await Y(n))}catch(o){s(2,u=String(o))}finally{s(1,a=!1)}}),[l,a,u,n]}class de extends G{constructor(e){super(),J(this,e,ie,ne,R,{})}}export{de as component};
